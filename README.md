# HolidayApp

Internal MLSDev Elixir Workshop #02 - Holidays and Workdays management.

## Up and running

* Clone project
* Setup `config/*.exs` files
* `mix deps.get`
* `mix ecto.setup` # create, migrate and seed database
* `mix test`
* `iex -S mix phx.server`
* Open [http://localhost:4000](http://localhost:4000) in your browser

## Docs

* `mix docs`
* `open doc/index.html`

## Coverage

* `mix test --cover`

HTML output:
* `mix coveralls.html`
* `open cover/excoveralls.html`

## Seeds

Check `priv/repo/seeds.exs` file

## Commits

1. Initial commit
   - Empty Phoenix project generated
   - Run `mix help phx.new` for more info
1. Config setup
   - see `config/*.secret.example.exs` files
1. Cleanup. Removed phoenix generated stuff
   - now this is a real initial commit
1. Holidays context and web layer generated by `mix phx.gen.html`
   - using Phoenix generator
   - check `mix help phx.gen.html` for more info
1. ExMachina added for test factories
   - [ExMachina](https://github.com/thoughtbot/ex_machina) is a [FactoryBot](https://github.com/thoughtbot/factory_bot) in Elixir/Phoenix world
   - in other words, it is a test data factory package
1. Using ExMachina for tests
   - generated tests changed
   - check `test/support/conn_case.ex` and `test/support/data_case.ex` changes
1. Default sort order added
   - holidays/workdays now sorted by date
1. Validation added to Holiday
   - check `changeset/2` function of `Holiday` module
1. Holiday form updated
   - select holiday kind (holiday, workday) from dropdown list
1. Holidays.list_holidays now works with date ranges
   - check `Holidays.list_holidays(start_date, end_date)` function
1. HolidayController updated. Date range form added to :index
   - now filtering holidays by date range
1. FallbackController added
   - handle errors with ease
1. ExCoveralls added
1. ExDoc added
1. Seeds added
   - `mix run priv/repo/seeds.exs`
